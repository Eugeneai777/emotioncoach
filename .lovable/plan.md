
# 情绪健康组合测评 - 三层诊断系统重构方案

## 一、需求概述

将现有的 25 题测评重构为更清晰的 **三层诊断模型**，提供科学背书和产品转化路径。

---

## 二、三层模型架构设计

```text
┌─────────────────────────────────────────────────────────┐
│  第一层：状态筛查（科学背书层）                            │
│  ├─ 情绪能量指数（对标 PHQ-9） - 4题                      │
│  ├─ 焦虑张力指数（对标 GAD-7） - 4题                      │
│  └─ 压力负载指数（对标 PSS-10）- 4题                      │
│  输出：低 / 中 / 高                                       │
├─────────────────────────────────────────────────────────┤
│  第二层：反应模式（卡点诊断层）                            │
│  ├─ 能量耗竭型 - 5题                                      │
│  ├─ 高度紧绷型 - 5题                                      │
│  ├─ 情绪压抑型 - 5题                                      │
│  └─ 逃避延迟型 - 5题                                      │
│  输出：主模式 + 副模式                                    │
├─────────────────────────────────────────────────────────┤
│  第三层：行动阻滞点（转化承接层）                          │
│  ├─ 行动阻滞 - 知道该做但做不动？                         │
│  ├─ 情绪阻滞 - 情绪常淹没你？                             │
│  ├─ 信念阻滞 - 觉得自己不够好？                           │
│  └─ 能量阻滞 - 长期只消耗不滋养？                         │
│  输出：最需要修复的维度 → 连接产品                        │
└─────────────────────────────────────────────────────────┘
```

---

## 三、题库重新设计

### 题目总数：32题

| 层级 | 维度 | 题目数 | 说明 |
|------|------|--------|------|
| 第一层 | 情绪能量 | 4 | 简化 PHQ-9，不使用医学术语 |
| 第一层 | 焦虑张力 | 4 | 简化 GAD-7 |
| 第一层 | 压力负载 | 4 | 简化 PSS-10 |
| 第二层 | 能量耗竭型 | 5 | 宝妈/护理者/管理者画像 |
| 第二层 | 高度紧绷型 | 5 | 职场骨干/完美主义画像 |
| 第二层 | 情绪压抑型 | 5 | 关系型人格画像 |
| 第二层 | 逃避延迟型 | 5 | 自由职业/学生画像 |
| 第三层 | 行动/情绪/信念/能量 | 4 | 每维度1题，快速定位 |

### 第二层核心问题设计（护城河题库）

**能量耗竭型**：
- 遇到压力我通常会继续硬撑，很少主动休息
- 我习惯先满足别人的需要再顾自己
- 即使身体已经发出不适信号，我也会忽略它
- 我很久没有真正为自己做一件放松的事了
- 我常觉得"再坚持一下就好了"

**高度紧绷型**：
- 我对结果和细节有很强的控制欲
- 出现问题时，我会先怪自己没做好
- 即使没人在催，我也会给自己很大压力
- 我很难真正放松，即使在休息也在想事情
- 我害怕一旦松懈就会出问题

**情绪压抑型**：
- 我更常对谁隐藏真实情绪？（家人/伴侣/同事）
- 不开心时，我更倾向自己消化，不说出来
- 为了关系和谐，我常压下真实感受
- 我不太习惯表达真实的不满
- 偶尔会突然情绪爆发或身体不适

**逃避延迟型**：
- 事情越重要，我越容易拖延
- 面对压力，我会转去做别的事逃离
- 我多久真正休息一次？（一周内很少）
- 常因为没行动而自责，却还是动不起来
- 一想到开始就觉得心理负担很重

### 第三层决策问题

| 维度 | 问题 | 连接产品 |
|------|------|----------|
| 行动 | 你是否知道该做什么，但就是启动不了？ | 行动教练AI + 执行力营 |
| 情绪 | 你的情绪是否经常会淹没你？ | 情绪教练AI + 情绪日记营 |
| 信念 | 你是否经常觉得自己不够好？ | 自我价值重建AI + 信念营 |
| 能量 | 你是否长期只在消耗，很少被滋养？ | 能量恢复AI + 滋养营 |

---

## 四、UI 组件改造

### 4.1 介绍页增强 (EmotionHealthStartScreen.tsx)

**新增内容**：

1. **三层诊断系统可视化**
   - 仿照财富测评的"洋葱模型" SVG 动画
   - 三层同心圆：状态筛查（外）→ 反应模式（中）→ 行动阻滞（内）

2. **科学权威数据背书**
   - 世界卫生组织：全球约 60% 人存在未被识别的情绪健康问题
   - 心理学研究：80% 情绪困扰源于自动化反应模式
   - 行为科学：改变的关键不在于知道，而在于找到卡住的那一层

3. **第一原理说明**
   - 为什么需要三层诊断？
   - "表面症状 → 反应模式 → 根本阻滞" 的逻辑链

4. **核心痛点共鸣**
   - 明明没什么大事，就是提不起劲
   - 道理都懂，但就是做不到
   - 情绪一来就被淹没，事后又后悔
   - 总觉得很累，但又说不清哪里累

### 4.2 问题页改造 (EmotionHealthQuestions.tsx)

**增强功能**：

1. **层间过渡提示**
   - 完成第一层后显示："状态已扫描完成，接下来识别你的反应模式"
   - 完成第二层后显示："模式已识别，最后确认你的行动阻滞点"

2. **层级进度指示器**
   - 顶部显示当前所在层级（1/2/3）
   - 每层用不同颜色区分

### 4.3 结果页增强 (EmotionHealthResult.tsx)

**结果展示顺序**：

1. **第一模块：状态仪表盘**
   - 三个指数的可视化（已有）
   - 增加整体风险等级判断

2. **第二模块：反应模式卡片**
   - 主模式（大卡片展示）
   - 副模式（小标签）
   - 可折叠的"你可能正在经历"和"背后原因"

3. **第三模块：行动阻滞点**
   - 显示最需要优先修复的维度
   - 直接连接产品推荐

4. **第四模块：今日第一步**
   - 微行动建议（已有）

---

## 五、数据层更新

### 5.1 题库数据文件 (emotionHealthData.ts)

```typescript
// 新增层级类型
export type QuestionLayer = 'screening' | 'pattern' | 'blockage';

// 更新题目接口
export interface EmotionHealthQuestion {
  id: number;
  layer: QuestionLayer;
  text: string;
  indexType?: IndexType;      // 第一层用
  patternType?: PatternType;  // 第二层用
  blockageType?: BlockedDimension; // 第三层用
}

// 新增层间过渡配置
export const layerTransitionConfig = {
  'screening-pattern': {
    text: '状态扫描完成',
    subtext: '接下来，我们来识别你的情绪自动反应模式'
  },
  'pattern-blockage': {
    text: '反应模式已识别',
    subtext: '最后，让我们找到你当前最需要突破的阻滞点'
  }
};
```

### 5.2 评分逻辑调整

```typescript
// 第三层直接投票机制
function calculateBlockedDimension(answers: Record<number, number>): BlockedDimension {
  // 第三层4题分别对应4个维度
  // 取分数最高的作为主要阻滞点
  const blockageQuestions = { action: 29, emotion: 30, belief: 31, giving: 32 };
  // ... 计算逻辑
}
```

---

## 六、实施步骤

| 步骤 | 内容 | 预估改动量 |
|------|------|-----------|
| 1 | 更新 `emotionHealthData.ts` 题库和类型定义 | 大 |
| 2 | 增强 `EmotionHealthStartScreen.tsx` 三层说明和科学背书 | 大 |
| 3 | 改造 `EmotionHealthQuestions.tsx` 增加层间过渡 | 中 |
| 4 | 优化 `EmotionHealthResult.tsx` 结果展示结构 | 中 |
| 5 | 更新 `EmotionHealthPage.tsx` 适配新流程 | 小 |
| 6 | 测试完整流程并调整细节 | 小 |

---

## 七、技术细节

### 视觉设计

- 第一层（状态筛查）：蓝色系 - 代表科学/客观
- 第二层（反应模式）：紫色系 - 代表心理/模式
- 第三层（行动阻滞）：玫瑰色系 - 代表转化/行动

### 三层同心圆动画规格

- 外圈（第一层）：r=90，渐变蓝色
- 中圈（第二层）：r=65，渐变紫色
- 内核（第三层）：r=40，渐变玫瑰色
- 采用脉冲动画效果表示"层层深入"

### 产品连接逻辑

用户完成测评后，根据 `blockedDimension` 输出：
- `action` → 行动启动路径（执行力训练营）
- `emotion` → 情绪稳定路径（情绪日记训练营）
- `belief` → 自我价值路径（信念重塑训练营）
- `giving` → 能量补给路径（能量滋养训练营）
