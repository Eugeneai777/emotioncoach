

## è´¢å¯Œè§‰é†’ 3 éƒ¨æ›² â€” æ˜¾ç¤ºæ‰“å¡/å®ŒæˆçŠ¶æ€

### ç›®æ ‡

åœ¨ `WealthTrilogyCard`ï¼ˆæ•™ç»ƒé¡µé¢ä¸­çš„ä¸‰éƒ¨æ›²å¡ç‰‡ï¼‰å’Œ `BloomPartnerIntro`ï¼ˆç‹¬ç«‹ä»‹ç»é¡µï¼‰ä¸­ï¼Œä¸ºæ¯ä¸ªæ­¥éª¤æ˜¾ç¤ºå®ŒæˆçŠ¶æ€æ ‡ç­¾ï¼Œè®©ç”¨æˆ·æ¸…æ¥šçŸ¥é“è‡ªå·±èµ°åˆ°äº†å“ªä¸€æ­¥ã€‚

### çŠ¶æ€åˆ¤æ–­é€»è¾‘

| æ­¥éª¤ | æ•°æ®æ¥æº | çŠ¶æ€ |
|------|----------|------|
| Step 1: è´¢å¯Œå¡ç‚¹æµ‹è¯„ | `wealth_block_assessments` è¡¨æ˜¯å¦æœ‰è®°å½• | å·²å®Œæˆ / æœªå¼€å§‹ |
| Step 2: è´¢å¯Œè§‰é†’è®­ç»ƒè¥ | `training_camps` è¡¨çš„ `status` å’Œ `milestone_21_completed` | å·²æ¯•ä¸š / è¿›è¡Œä¸­ï¼ˆDay Xï¼‰ / æœªå¼€å§‹ |
| Step 3: æˆä¸ºåˆä¼™äºº | `youjin_partners` è¡¨æ˜¯å¦æœ‰è®°å½• | å·²åŠ å…¥ / æœªå¼€å§‹ |

### éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶

#### 1. æ–°å»º `src/hooks/useTrilogyProgress.ts`

åˆ›å»ºç»Ÿä¸€çš„ hookï¼ŒæŸ¥è¯¢ä¸‰ä¸ªæ­¥éª¤çš„å®ŒæˆçŠ¶æ€ï¼š

```typescript
export function useTrilogyProgress() {
  // æŸ¥è¯¢ wealth_block_assessmentsï¼ˆæ˜¯å¦æœ‰è®°å½• = æµ‹è¯„å®Œæˆï¼‰
  // æŸ¥è¯¢ training_campsï¼ˆæœ€æ–°ä¸€æ¡ï¼Œå– status/current_day/milestone_21_completedï¼‰
  // æŸ¥è¯¢ youjin_partnersï¼ˆæ˜¯å¦æœ‰è®°å½• = å·²åŠ å…¥åˆä¼™äººï¼‰
  return {
    assessment: { completed: boolean },
    camp: { status: 'not_started' | 'active' | 'completed', currentDay?: number },
    partner: { joined: boolean }
  }
}
```

#### 2. ä¿®æ”¹ `src/components/wealth-camp/WealthTrilogyCard.tsx`

- å¼•å…¥ `useTrilogyProgress`
- åœ¨æ¯ä¸ªæ­¥éª¤å¡ç‰‡å³ä¸Šè§’æ˜¾ç¤ºçŠ¶æ€æ ‡ç­¾ï¼š
  - å·²å®Œæˆï¼šç»¿è‰² `âœ… å·²å®Œæˆ` / `âœ… å·²æ¯•ä¸š` / `âœ… å·²åŠ å…¥`
  - è¿›è¡Œä¸­ï¼šè“è‰² `ğŸ“ Day X`
  - æœªå¼€å§‹ï¼šä¸æ˜¾ç¤ºæ ‡ç­¾ï¼ˆä¿æŒå¹²å‡€ï¼‰

#### 3. ä¿®æ”¹ `src/pages/BloomPartnerIntro.tsx`

- åŒæ ·å¼•å…¥ `useTrilogyProgress`
- åœ¨å·²æœ‰çš„å¡ç‰‡å¸ƒå±€ä¸­ï¼Œä¸º Step 2 å’Œ Step 3 ä¹Ÿæ·»åŠ çŠ¶æ€æ ‡ç­¾ï¼ˆStep 1 å·²æœ‰ `å·²è§£é”/éœ€ä»˜è´¹` é€»è¾‘ï¼Œä¿ç•™å¹¶å¢å¼ºï¼‰
- çŠ¶æ€æ ‡ç­¾æ ·å¼ä¸ç°æœ‰çš„ `å·²è§£é”` æ ‡ç­¾ä¿æŒä¸€è‡´

### çŠ¶æ€æ ‡ç­¾è®¾è®¡

```text
Step 1 (æµ‹è¯„):
  - å·²å®Œæˆæµ‹è¯„ â†’ ç»¿è‰²æ ‡ç­¾ "âœ… å·²å®Œæˆ"
  - å·²è´­ä¹°æœªæµ‹è¯„ â†’ è“è‰²æ ‡ç­¾ "å·²è§£é”"ï¼ˆä¿ç•™ç°æœ‰é€»è¾‘ï¼‰
  - æœªè´­ä¹° â†’ ç¥ç€è‰²æ ‡ç­¾ "éœ€ä»˜è´¹ Â¥9.9"ï¼ˆä¿ç•™ç°æœ‰é€»è¾‘ï¼‰

Step 2 (è®­ç»ƒè¥):
  - milestone_21_completed = true â†’ ç»¿è‰²æ ‡ç­¾ "ğŸ“ å·²æ¯•ä¸š"
  - status = 'active' â†’ è“è‰²æ ‡ç­¾ "ğŸ“ Day {currentDay}"
  - æ— è®°å½• â†’ ä¸æ˜¾ç¤º

Step 3 (åˆä¼™äºº):
  - æœ‰ youjin_partners è®°å½• â†’ ç»¿è‰²æ ‡ç­¾ "âœ… å·²åŠ å…¥"
  - æ— è®°å½• â†’ ä¸æ˜¾ç¤º
```

### æŠ€æœ¯ç»†èŠ‚

- `useTrilogyProgress` ä½¿ç”¨ `useQuery` è¿›è¡Œ 3 ä¸ªå¹¶è¡ŒæŸ¥è¯¢ï¼Œ`enabled: !!user`ï¼ˆæœªç™»å½•ä¸æŸ¥è¯¢ï¼‰
- æŸ¥è¯¢è½»é‡åŒ–ï¼šåª select å¿…è¦å­—æ®µï¼Œæ¯ä¸ªæŸ¥è¯¢ limit 1
- WealthTrilogyCard å’Œ BloomPartnerIntro å…±ç”¨åŒä¸€ä¸ª hookï¼Œç¡®ä¿çŠ¶æ€ä¸€è‡´
