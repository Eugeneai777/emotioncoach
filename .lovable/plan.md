

# æœ‰åŠ²AI è½¬åŒ–å¢é•¿å¼•æ“å®ç°è®¡åˆ’

## èƒŒæ™¯åˆ†æ

åŸºäºä½ æä¾›çš„è¿è¥ç‰ˆè½¬åŒ–æµç¨‹å›¾ï¼Œæˆ‘åˆ†æäº†å½“å‰ä»£ç åº“çš„å®ç°æƒ…å†µï¼š

### å½“å‰å·²æœ‰èƒ½åŠ›

| æ¨¡å— | å·²å®ç° | å®ç°ç¨‹åº¦ |
|------|--------|----------|
| æµ‹è¯„å®Œæˆ â†’ AIæ•™ç»ƒ | âœ… | `AssessmentCoachChat` 7è½®å¯¹è¯æœºåˆ¶ |
| AIæ•™ç»ƒ â†’ è®­ç»ƒè¥è½¬åŒ– | âœ… | Round 5-7 è½¬åŒ–CTA |
| è®­ç»ƒè¥ â†’ 365ä¼šå‘˜ | âš ï¸ | CTAå­˜åœ¨ä½†ç¼ºå°‘è§¦å‘æ—¶æœºä¼˜åŒ– |
| è½¬åŒ–æ¼æ–—çœ‹æ¿ | âœ… | `ConversionFunnelDashboard` ç®¡ç†å‘˜è§†å›¾ |
| å››å±‚æ”¯æŒç³»ç»Ÿå±•ç¤º | âœ… | `TransformationFlow.tsx` å·²æœ‰ |
| è¡Œä¸ºåˆ†æåå° | âœ… | `analyze-user-behavior` Edge Function |
| ç—›ç‚¹å…±æƒ…è¯­è¨€ | âœ… | `emotionHealthData.ts` ä¸­å·²æœ‰ |

### éœ€è¦æ–°å¢/å¢å¼ºçš„èƒ½åŠ›

1. **æƒ…ç»ªå…³é”®è¯å®æ—¶è§¦å‘** - åœ¨å¯¹è¯ä¸­æ£€æµ‹é«˜å±å…³é”®è¯
2. **æˆé•¿æ”¯æŒè·¯å¾„é¡µé¢** - ä¸€ç›®äº†ç„¶çš„äº§å“åœ°å›¾é¡µé¢
3. **è¡Œä¸ºè§¦å‘è‡ªåŠ¨æ¨è** - åŸºäºäº’åŠ¨è½®æ•°/æƒ…ç»ªå¼ºåº¦
4. **è®­ç»ƒè¥å…³é”®æ—¶ç‚¹è½¬åŒ–** - Day 7/14/20 ç‰¹æ®Šæ¨é€
5. **è§è¯æ•…äº‹ â†’ è£‚å˜é—­ç¯** - BESTè§è¯åˆ†äº«ç»“æ„

---

## å®ç°æ–¹æ¡ˆ

### ç¬¬ä¸€éƒ¨åˆ†ï¼šæˆé•¿æ”¯æŒè·¯å¾„é¡µé¢ (æ–°å»º)

åˆ›å»º `/growth-path` é¡µé¢ï¼Œä½œä¸ºç”¨æˆ·ä¸€ç›®äº†ç„¶çš„äº§å“åœ°å›¾ï¼š

```text
é¡µé¢ç»“æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒ± ä½ çš„æˆé•¿æ”¯æŒè·¯å¾„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ“‹      â”‚ â†’  â”‚ ğŸ¤–      â”‚ â†’  â”‚ ğŸ•ï¸      â”‚     â”‚
â”‚  â”‚ ç»„åˆæµ‹è¯„ â”‚    â”‚ AIæ•™ç»ƒ   â”‚    â”‚ è®­ç»ƒè¥   â”‚     â”‚
â”‚  â”‚ Â¥9.9   â”‚    â”‚ å³æ—¶é™ªä¼´  â”‚    â”‚ Â¥299   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                       â†“                         â”‚
â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚                 â”‚ ğŸ‘‘      â”‚                     â”‚
â”‚                 â”‚365ä¼šå‘˜   â”‚                     â”‚
â”‚                 â”‚ Â¥999   â”‚                     â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                       â†“                         â”‚
â”‚              ğŸ¦‹ æ•…äº‹è§è¯ & åˆ†äº«è£‚å˜              â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ ä½ å½“å‰æ‰€åœ¨ä½ç½®ï¼š[åŠ¨æ€æ˜¾ç¤º]                    â”‚
â”‚                                                 â”‚
â”‚  [å¼€å§‹æµ‹è¯„] / [ç»§ç»­å¯¹è¯] / [æŸ¥çœ‹è®­ç»ƒè¥]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®åŠŸèƒ½**ï¼š
- åŠ¨æ€æ£€æµ‹ç”¨æˆ·å½“å‰é˜¶æ®µï¼ˆæœªæµ‹è¯„/å·²æµ‹è¯„/è®­ç»ƒè¥ä¸­/ä¼šå‘˜ï¼‰
- æ ¹æ®é˜¶æ®µé«˜äº®å¯¹åº”èŠ‚ç‚¹
- æä¾›æœ€åˆé€‚çš„ä¸‹ä¸€æ­¥CTA

### ç¬¬äºŒéƒ¨åˆ†ï¼šå¯¹è¯ä¸­æƒ…ç»ªå…³é”®è¯è§¦å‘

åœ¨ AI æ•™ç»ƒå¯¹è¯ç»„ä»¶ä¸­å¢åŠ å…³é”®è¯æ£€æµ‹ï¼š

```text
é«˜å±å…³é”®è¯åˆ—è¡¨ï¼š
- ç–²æƒ«ç±»ï¼šå¾ˆç´¯ã€æ‰›ä¸ä½ã€æ’‘ä¸ä¸‹å»ã€æƒ³æ”¾å¼ƒ
- æ— åŠ©ç±»ï¼šæ²¡ç”¨ã€ä¸çŸ¥é“æ€ä¹ˆåŠã€æ•‘æ•‘æˆ‘ã€å´©æºƒ
- ç»æœ›ç±»ï¼šæ²¡æœ‰æ„ä¹‰ã€æ´»ç€ç´¯ã€å¾ˆç—›è‹¦

è§¦å‘æœºåˆ¶ï¼š
ç”¨æˆ·è¾“å…¥ â†’ å…³é”®è¯åŒ¹é… â†’ å¼¹å‡ºæ¸©å’Œå¼•å¯¼å¡ç‰‡
                          â†“
                    "æˆ‘æ³¨æ„åˆ°ä½ ç°åœ¨å¯èƒ½æ¯”è¾ƒç´¯ï¼Œ
                     ä½ ä¸éœ€è¦ä¸€ä¸ªäººæ‰›ç€ã€‚"
                          â†“
                    [æŸ¥çœ‹å®Œæ•´æˆé•¿æ”¯æŒè·¯å¾„ >]
```

### ç¬¬ä¸‰éƒ¨åˆ†ï¼šè¡Œä¸ºè§¦å‘è‡ªåŠ¨æ¨è

åœ¨ `useDynamicCoachChat` ä¸­å¢åŠ æ™ºèƒ½è§¦å‘ï¼š

```text
è§¦å‘æ¡ä»¶ï¼š
1. è¿ç»­äº’åŠ¨ â‰¥ 3è½® â†’ å¼¹å‡ºè®­ç»ƒè¥å…¥å£
2. å®Œæˆæµ‹è¯„å â†’ è‡ªåŠ¨è¿›å…¥ AI æ•™ç»ƒ
3. 7å¤©æ´»è·ƒ â†’ æ¨é€å¤æµ‹æé†’
4. æƒ…ç»ªé«˜é£é™© â†’ çœŸäººä»‹å…¥æç¤º

å®ç°æ–¹å¼ï¼š
- å‰ç«¯ï¼šè¿½è¸ªå¯¹è¯è½®æ•°ï¼Œæ¡ä»¶æ»¡è¶³æ—¶æ˜¾ç¤ºè½¬åŒ–å¡ç‰‡
- åç«¯ï¼š`analyze-user-behavior` å·²æœ‰åŸºç¡€ï¼Œå¢åŠ è§¦å‘é€»è¾‘
```

### ç¬¬å››éƒ¨åˆ†ï¼šè®­ç»ƒè¥å…³é”®æ—¶ç‚¹æ¨é€

å¢å¼ºè®­ç»ƒè¥å†…çš„è½¬åŒ–èŠ‚ç‚¹ï¼š

```text
Day 7 (ç¬¬ä¸€æ¬¡å¤æµ‹å¯¹æ¯”)ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‰ æ­å–œå®Œæˆç¬¬ä¸€å‘¨ï¼               â”‚
â”‚                                    â”‚
â”‚ ğŸ“Š ä½ çš„å˜åŒ–å¯¹æ¯”                   â”‚
â”‚ Day 0: æƒ…ç»ªèƒ½é‡ 45/100            â”‚
â”‚ Day 7: æƒ…ç»ªèƒ½é‡ 62/100 (+17 â†‘)    â”‚
â”‚                                    â”‚
â”‚ ğŸ’¬ "è¿™æ ·çš„è¿›æ­¥è¯´æ˜..."            â”‚
â”‚                                    â”‚
â”‚ [åˆ†äº«æˆ‘çš„è¿›æ­¥] [ç»§ç»­ä¸‹ä¸€å‘¨]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Day 14 (æ•…äº‹åˆ†äº«é‚€è¯·)ï¼š
- å¼•å¯¼ç”¨æˆ·å†™ä¸‹"æˆ‘æœ€è¿‘çœŸçš„æœ‰å˜åŒ–"çš„æ•…äº‹
- ç»“æ„åŒ–æ¨¡æ¿ï¼šä»¥å‰çš„çŠ¶æ€ â†’ è½¬æŠ˜ç‚¹ â†’ å…·ä½“æ”¹å˜

Day 20 (å‡çº§é¢„å‘Š)ï¼š
- é¢„å‘Š365ä¼šå‘˜æƒç›Š
- é™æ—¶ä¼˜æƒ å€’è®¡æ—¶
```

### ç¬¬äº”éƒ¨åˆ†ï¼šè§è¯æ•…äº‹é£è½®

åˆ›å»ºè§è¯æ•…äº‹åˆ†äº«ç»„ä»¶ï¼š

```text
BESTæ•…äº‹ç»“æ„æ¨¡æ¿ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ å†™ä¸‹ä½ çš„ç»½æ”¾æ•…äº‹               â”‚
â”‚                                    â”‚
â”‚ 1ï¸âƒ£ ä»¥å‰çš„çŠ¶æ€ (Background)        â”‚
â”‚ [_____________________________]   â”‚
â”‚                                    â”‚
â”‚ 2ï¸âƒ£ è½¬æŠ˜ç‚¹ (Event)                 â”‚
â”‚ [_____________________________]   â”‚
â”‚                                    â”‚
â”‚ 3ï¸âƒ£ å…·ä½“æ”¹å˜ (Shift)               â”‚
â”‚ [_____________________________]   â”‚
â”‚                                    â”‚
â”‚ 4ï¸âƒ£ æƒ³å¯¹ TA è¯´ (Tell)              â”‚
â”‚ [_____________________________]   â”‚
â”‚                                    â”‚
â”‚ [ç”Ÿæˆåˆ†äº«å¡ç‰‡] [é‚€è¯·æœ‹å‹æµ‹è¯„]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è£‚å˜æœºåˆ¶**ï¼š
- æ•…äº‹å¡ç‰‡åŒ…å«æµ‹è¯„äºŒç»´ç 
- æ–°ç”¨æˆ·æ‰«ç è¿›å…¥ â†’ å®Œæˆæµ‹è¯„ â†’ æˆä¸ºæ–°è§è¯ â†’ å¾ªç¯

---

## æ–‡ä»¶å˜æ›´æ¸…å•

| æ–‡ä»¶ | æ“ä½œ | è¯´æ˜ |
|------|------|------|
| `src/pages/GrowthSupportPath.tsx` | æ–°å»º | æˆé•¿æ”¯æŒè·¯å¾„é¡µé¢ |
| `src/components/growth/GrowthPathVisualization.tsx` | æ–°å»º | å¯è§†åŒ–è·¯å¾„ç»„ä»¶ |
| `src/components/growth/EmotionKeywordTrigger.tsx` | æ–°å»º | æƒ…ç»ªå…³é”®è¯è§¦å‘å¡ç‰‡ |
| `src/components/growth/ConversationTriggerCard.tsx` | æ–°å»º | è¡Œä¸ºè§¦å‘è½¬åŒ–å¡ç‰‡ |
| `src/components/camp/MilestoneCompareCard.tsx` | æ–°å»º | Day 7/14/20 é‡Œç¨‹ç¢‘å¡ç‰‡ |
| `src/components/story/BESTStoryEditor.tsx` | æ–°å»º | BESTè§è¯æ•…äº‹ç¼–è¾‘å™¨ |
| `src/components/story/StoryShareCard.tsx` | æ–°å»º | æ•…äº‹åˆ†äº«å¡ç‰‡ |
| `src/hooks/useEmotionKeywordDetection.ts` | æ–°å»º | å…³é”®è¯æ£€æµ‹ Hook |
| `src/hooks/useConversationTriggers.ts` | æ–°å»º | å¯¹è¯è§¦å‘é€»è¾‘ Hook |
| `src/hooks/useUserGrowthStage.ts` | æ–°å»º | ç”¨æˆ·é˜¶æ®µæ£€æµ‹ Hook |
| `src/config/growthPathConfig.ts` | æ–°å»º | æˆé•¿è·¯å¾„é…ç½® |
| `src/config/emotionKeywords.ts` | æ–°å»º | é«˜å±å…³é”®è¯é…ç½® |
| `src/components/emotion-health/EmotionHealthResult.tsx` | ä¿®æ”¹ | æ·»åŠ "æŸ¥çœ‹æˆé•¿è·¯å¾„"æŒ‰é’® |
| `src/components/coach/DynamicCoachChatBox.tsx` | ä¿®æ”¹ | é›†æˆå…³é”®è¯æ£€æµ‹å’Œè§¦å‘é€»è¾‘ |
| `src/pages/CampCheckIn.tsx` | ä¿®æ”¹ | æ·»åŠ é‡Œç¨‹ç¢‘å¡ç‰‡è§¦å‘ |
| `App.tsx` | ä¿®æ”¹ | æ·»åŠ  /growth-path è·¯ç”± |

---

## æŠ€æœ¯å®ç°ç»†èŠ‚

### æƒ…ç»ªå…³é”®è¯æ£€æµ‹ç®—æ³•

```text
// åˆ†çº§å…³é”®è¯åŒ¹é…
const keywordCategories = {
  high_risk: ['æƒ³æ­»', 'å´©æºƒ', 'æ’‘ä¸ä¸‹å»', 'æ•‘æ•‘æˆ‘'],
  medium_risk: ['å¾ˆç´¯', 'æ‰›ä¸ä½', 'æ²¡ç”¨', 'ä¸çŸ¥é“æ€ä¹ˆåŠ'],
  low_risk: ['æœ‰ç‚¹ç´¯', 'ä¸å¤ªå¥½', 'å›°æƒ‘']
};

// åŒ¹é…é€»è¾‘
function detectEmotionKeywords(text: string) {
  for (const [level, keywords] of Object.entries(keywordCategories)) {
    for (const keyword of keywords) {
      if (text.includes(keyword)) {
        return { detected: true, level, keyword };
      }
    }
  }
  return { detected: false };
}
```

### ç”¨æˆ·é˜¶æ®µæ£€æµ‹é€»è¾‘

```text
function getUserGrowthStage(user) {
  // æ£€æŸ¥é¡ºåºï¼šåˆä¼™äºº > 365ä¼šå‘˜ > è®­ç»ƒè¥ä¸­ > å·²æµ‹è¯„ > æœªæµ‹è¯„
  if (isPartner(user)) return 'partner';
  if (has365Membership(user)) return 'member365';
  if (hasActiveCamp(user)) return 'in_camp';
  if (hasCompletedAssessment(user)) return 'assessed';
  return 'new_user';
}
```

### å¯¹è¯è½®æ•°è§¦å‘é…ç½®

```text
const conversationTriggers = {
  rounds_3: {
    type: 'soft_cta',
    message: 'æˆ‘æ„Ÿè§‰ä½ ä»Šå¤©èŠäº†ä¸å°‘ï¼Œè¦ä¸è¦çœ‹çœ‹æ›´ç³»ç»Ÿçš„æ”¯æŒï¼Ÿ',
    cta: { text: 'äº†è§£è®­ç»ƒè¥', route: '/camps' }
  },
  rounds_5: {
    type: 'strong_cta',
    message: 'ä½ å·²ç»è¿ç»­å¯¹è¯5è½®äº†ï¼Œæˆ‘è§‰å¾—ä½ å¯èƒ½éœ€è¦æ›´æŒç»­çš„é™ªä¼´...',
    cta: { text: 'åŠ å…¥21å¤©è®­ç»ƒè¥', route: '/camps/emotion' }
  }
};
```

---

## è½¬åŒ–æŒ‡æ ‡åŸ‹ç‚¹

| åŸ‹ç‚¹äº‹ä»¶ | è§¦å‘æ—¶æœº | æ•°æ®å­—æ®µ |
|----------|----------|----------|
| `growth_path_viewed` | è®¿é—®æˆé•¿è·¯å¾„é¡µ | `source`, `user_stage` |
| `emotion_keyword_triggered` | æ£€æµ‹åˆ°å…³é”®è¯ | `keyword`, `level`, `context` |
| `conversation_trigger_shown` | æ˜¾ç¤ºè§¦å‘å¡ç‰‡ | `trigger_type`, `round_count` |
| `milestone_card_viewed` | æŸ¥çœ‹é‡Œç¨‹ç¢‘ | `day`, `improvement_score` |
| `story_shared` | åˆ†äº«è§è¯æ•…äº‹ | `story_id`, `share_channel` |

---

## é¢„æœŸæ•ˆæœ

| æŒ‡æ ‡ | å½“å‰é¢„ä¼° | ä¼˜åŒ–ç›®æ ‡ |
|------|----------|----------|
| æµ‹è¯„å®Œæˆ â†’ AIå¯¹è¯ | 40% | â‰¥ 50% |
| AIå¯¹è¯ â†’ è®­ç»ƒè¥ | 15% | â‰¥ 25% |
| è®­ç»ƒè¥ â†’ 365ä¼šå‘˜ | 20% | â‰¥ 35% |
| è§è¯æ•…äº‹åˆ†äº«ç‡ | 5% | â‰¥ 15% |

---

## å®ç°ä¼˜å…ˆçº§

1. **P0 (æœ¬æ¬¡)**ï¼šæˆé•¿æ”¯æŒè·¯å¾„é¡µé¢ + ç»“æœé¡µå…¥å£
2. **P1 (æœ¬å‘¨)**ï¼šæƒ…ç»ªå…³é”®è¯è§¦å‘ + å¯¹è¯è½®æ•°è§¦å‘
3. **P2 (ä¸‹å‘¨)**ï¼šè®­ç»ƒè¥é‡Œç¨‹ç¢‘å¡ç‰‡
4. **P3 (åç»­)**ï¼šBESTè§è¯æ•…äº‹ç¼–è¾‘å™¨ + è£‚å˜é—­ç¯

